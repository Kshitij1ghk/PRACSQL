# PRACSQL
# SQL ALIASES
- used to provide temporary distinct names within the database for ease of use and understand
- used to shorten the name or simplify of tables or columns
- Combine an output into one column instead of two using a concatenation function.

# JOINS
## INNER JOIN
- This type of JOIN returns records of data that have matching values in the joined tables. For example, assume that you want to return the full name and booking ID of customers who made bookings. In this situation, you can use the INNER JOIN clause to extract records of data from the Customers and the Bookings tables based on the matching customer ID value as follows.

## LEFT JOIN
- The LEFT JOIN returns all common records in a similar way to the INNER JOIN, plus all queried records from the left table regardless of whether there is a match in the right table or not. If there are no matching records in the right table, then null values will be inserted for the bookings IDs. 

## RIGHT JOIN
- The RIGHT JOIN returns all common records in a similar way to the INNER JOIN, plus all queried records from the right table regardless of whether there is a match in the left table or not. If there are no matching records in the left table, then null values will be inserted for the customers full names.

## SELF JOIN
- This is a special case where you need to join a table with itself to get specific information existing in the same table.  In this case you may choose the INNER JOIN, LEFT JOIN or RIGHT JOIN presented earlier to query the required data. 

# UNION OPERATOR
-  you can use UNION operator to join two SELECT statements in order to combine their results sets and present as one table.
- few best practices that must be observed when creating SQL SELECT statements with a UNION operator. Every SELECT statement must have the same number of columns. All related columns have similar data types, and all related columns must have the same order in every SELECT statement-

# LAB 1
- Task 1: Little Lemon want a list of all customers who have made bookings. Write an INNER JOIN SQL statement to combine the full name and the phone number of each customer from the Customers table with the related booking date and 'number of guests' from the Bookings table.
- Little Lemon want to view information about all existing customers with bookings that have been made so far. This data must include customers who havenâ€™t made any booking yet. 

Write a LEFT JOIN SQL statement to view the customer id from Customers table and the related booking id from the Bookings table. The expected output result should be the same as the following screenshot

# Aggregates
1. COUNT() - Returns the number of rows in a set
Example: SELECT COUNT(*) FROM Employees;

2. SUM() - Calculates the total sum of a numeric column
Example: SELECT SUM(Salary) FROM Employees;

3. AVG() - Returns the average value of a numeric column
Example: SELECT AVG(Salary) FROM Employees;

4. MIN() - Returns the smallest value in a column
Example: SELECT MIN(Salary) FROM Employees;

5. MAX() - Returns the largest value in a column
Example: SELECT MAX(Salary) FROM Employees;

# GROUP BY
- The purpose of using the GROUP BY clause in a SQL SELECT statement is to group rows in one or more tables based on one or more given columns, into summary rows or subgroups. An aggregate function can be used with the GROUP BY clause to perform calculations and return a single value for each subgroup
- YOU MUST PLACE THE WHERE CLAUSE BEFORE GROUP BY CLAUSE
- The Where clause can't be used to specify a filter condition for the group data that the Group By clause generates.

# HAVING
- WE USE having therefore instead of WHERE clause
- the having clause is added after the GROUP BY clause
- the HAVING clause is used to specify a filter condition for the group data generated by the GROUP BY clause.
- HAVING is used to filter aggregated data after grouping. While both clauses seem similar in functionality, their placement in a query and their specific use cases make them unique

- The HAVING clause is used in a GROUP BY query to filter grouped data. However, in the absence of GROUP BY clause, the HAVING clause behaves just like the WHERE clause

## LAB2(HAVING) TASKS
- [TASKS](https://www.coursera.org/learn/database-structures-and-management-with-mysql/ungradedLab/eubbG/exercise-grouping-data) 
- [TASKS_2](https://www.mysqltutorial.org/tryit/query/mysql-having/#1)

# REPLACE
- The MySQL REPLACE statement is an extension to the SQL Standard. The MySQL REPLACE statement works as follows:

- Step 1. Insert a new row into the table, if a duplicate key error occurs.

- Step 2. If the insertion fails due to a duplicate-key error occurs:

- Delete the conflicting row that causes the duplicate key error from the table.
Insert the new row into the table again.

- if a primary key or unique key is not inserted inside when using the replace function it will simply add a new row unable to specify if its duplicate or not

## Using MySQL REPLACE statement to update a row
- REPLACE INTO table
SET column1 = value1,
    column2 = value2;

## Using MySQL REPLACE to insert data from a SELECT statement
- REPLACE INTO table_1(column_list)
VALUES(Value-1,Value-2,Value-3)

# CONSTRAINTS
- There are three main types of constraints in MySQL database, which can be used to enforce these rules. Key constraints which apply rules to key types. Domain constraints, used to govern the values that can be stored for a specific column and referential integrity constraints, which established rules for referential keys.

[INFO ABOUT CONSTRAINTS](https://www.coursera.org/learn/database-structures-and-management-with-mysql/supplement/C5i5X/types-of-mysql-constraints)

## updating related records or deleting them related Refrential Integrity
- you can use the on the lead cascade option. 
This option automatically deletes the related rows of data from the bookings table. And if you want to update a primary key value in the customers table, you can use the on update cascade option to automatically update the related rose in the bookings table.
- use on Delete and on Update Cascade options to delete and automatically update the related rows of data in the Bookings table. 
However, be aware that these actions depend on the Update and Delete operations taking place in the customers table

# ALTER TABLE
- The ALTER TABLE statement is often used alongside different SQL commands. Here's a quick overview of some common commands used with the ALTER TABLE statemen. The MODIFY command is used to target specific columns and instruct SQL to make changes to them. The ADD command can be used to add a new column to a table and the DROP command can be used to drop or delete a column from the table.

- ALTER TABLE table_name
MODIFY column1_name VARCHAR(60)

# COPY TABLE
- copy data from an existing table to a new table within the same database, copy a table to a new location while ensuring it retains its constraints, and copy data from an existing table to a new table from a different database

- You first need to identify the database and the table you want to copy the data from. Next, determine the columns you want to copy. Either all columns or just some of them. Then use the CREATE TABLE statement to build a new table with a relevant table name. Finally, use the SELECT command to structure the new table by specifying the columns you want to copy data from

- when using the copy table methods the key constraints are not copied

## within a database
- CREATE TABLE new_table_name AS(you can include or exclude as but it is good for readibility)
SELECT COLUMNS 
FROM existing_table_name

## in between two databases
- CREATE TABLE database_X_name.nerw_table_name
SELECT COLUMNS 
FROM database_Y_name.existing_table_name

## to copy the constraints as well
 - CREATE TABLE new_table_name like table_name

# SUBQUERY
- a subquery is a query within another query. In other words, it's an inner query placed within an outer query. The inner query is viewed as the child query and the outer query as the parent query. 
-  The inner query or subquery executes first and its results are then passed to the outer or parent query. You can also build multiple subqueries in MySQL. The outer query is presented like any normal query. It contains select, from, and where clauses. 
-  When executed, a subquery can return any of the following results: a single value, a single row, a single column, or multiple rows of one or more columns.
- A subquery can be placed before or after a comparison operator in the where clause of your parent query. 
